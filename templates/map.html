<!DOCTYPE html>
<html lang="en">
<head>
<script>
    {{"decoupled-map"|googlemap_js(37.4419, -122.1419, markers=[(37.4419, -122.1419)])}}
    {{mymap.js}}
    {{sndmap.js}}
</script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
    <script type="text/javascript">
        function initMap(){
            new google.maps.Map(document.getElementById('map'), {
                center: {lat: {{activity_data.start_latitude}}, lng: {{ activity_data.start_longitude }}},
                zoom: 16
            });
        }
    </script>
    <meta charset="UTF-8">
    <title>Map</title>
</head>
<body onload="initMap()">
<div class="container">
    <h1>{{ activity_data.name }}</h1>
    <div id="map" style="width: 100%; height: 500px;"></div>
</div>

<h1>Flask Google Maps Example</h1>

<h2> Template function centered, no marker </h2>
{{googlemap("simple-map", 37.4419, -122.1419)}}

<h2> Template filter decoupled with single marker </h2>
{{"decoupled-map"|googlemap_html(37.4419, -122.1419)}}

<h2> Template function with multiple markers </h2>
{% with map=googlemap_obj("another-map", 37.4419, -122.1419, markers=[[-33.98608, 18.430787], [-33.986042, 18.430713], [-33.986022, 18.430676], [-33.98601, 18.430637], [-33.986029, 18.430558], [-33.986046, 18.430527], [-33.986068, 18.430497], [-33.986111, 18.430451], [-33.986158, 18.430404], [-33.986183, 18.430382], [-33.986211, 18.430354], [-33.986261, 18.430312], [-33.986286, 18.430281], [-33.986332, 18.43022], [-33.986354, 18.430198], [-33.986383, 18.430172], [-33.986447, 18.430119], [-33.98647, 18.430101], [-33.986519, 18.430053], [-33.986531, 18.430013], [-33.986509, 18.429951], [-33.986481, 18.42992], [-33.986465, 18.429884], [-33.986424, 18.429813], [-33.986411, 18.429782], [-33.986388, 18.429751], [-33.986358, 18.429677], [-33.986337, 18.429654], [-33.986286, 18.429605], [-33.986258, 18.429574], [-33.986203, 18.429531], [-33.986182, 18.429504], [-33.98615, 18.429481], [-33.986084, 18.429464], [-33.986046, 18.429455], [-33.986022, 18.429438], [-33.985977, 18.429371], [-33.985958, 18.429346], [-33.985902, 18.429291], [-33.985881, 18.429257], [-33.985847, 18.429204], [-33.985826, 18.429168], [-33.985811, 18.429135], [-33.985776, 18.42907], [-33.985767, 18.429029], [-33.98574, 18.428951], [-33.985732, 18.428909], [-33.985742, 18.428869], [-33.985759, 18.428829], [-33.985782, 18.428751], [-33.985801, 18.428725], [-33.985838, 18.428669], [-33.985825, 18.428631], [-33.985824, 18.428551], [-33.98582, 18.428515], [-33.985781, 18.428469], [-33.985752, 18.428464], [-33.985702, 18.428426], [-33.985693, 18.428387], [-33.985661, 18.428327], [-33.985649, 18.428293], [-33.985632, 18.428215], [-33.985633, 18.428172], [-33.985621, 18.428097], [-33.985588, 18.428076], [-33.985568, 18.428048], [-33.985523, 18.427976], [-33.985501, 18.427946], [-33.985482, 18.427904], [-33.985445, 18.427842], [-33.985422, 18.427814], [-33.985369, 18.427786], [-33.985335, 18.427768], [-33.985289, 18.427726], [-33.985268, 18.427695], [-33.985241, 18.427669], [-33.985194, 18.427615], [-33.985169, 18.427592], [-33.985121, 18.42756], [-33.9851, 18.427523], [-33.985041, 18.42748], [-33.985025, 18.427453], [-33.984965, 18.427415], [-33.984928, 18.427413], [-33.98489, 18.427402], [-33.984856, 18.427383], [-33.984794, 18.427337], [-33.984759, 18.427327], [-33.984718, 18.427323], [-33.984682, 18.427318], [-33.984626, 18.427287], [-33.984644, 18.427221], [-33.984635, 18.427185], [-33.984607, 18.42712], [-33.984579, 18.427103], [-33.984546, 18.427092], [-33.984478, 18.427048], [-33.984461, 18.427014], [-33.984458, 18.426972], [-33.984469, 18.426901], [-33.984459, 18.426868], [-33.984426, 18.426809], [-33.984404, 18.426737], [-33.984394, 18.426696], [-33.984382, 18.426666], [-33.984358, 18.426597], [-33.984335, 18.426534], [-33.984319, 18.426494], [-33.984307, 18.426454], [-33.984286, 18.426389], [-33.984294, 18.426355], [-33.98433, 18.426318], [-33.984348, 18.42629], [-33.984365, 18.426219], [-33.984391, 18.426191], [-33.984414, 18.426155], [-33.984403, 18.426091], [-33.984386, 18.426059], [-33.984358, 18.425991], [-33.984361, 18.425952], [-33.984352, 18.425876], [-33.984336, 18.425844], [-33.984296, 18.425794], [-33.984258, 18.425745], [-33.984233, 18.425718], [-33.984205, 18.425656], [-33.984177, 18.425639], [-33.984125, 18.425607], [-33.984099, 18.425596], [-33.984043, 18.425584], [-33.983985, 18.425581], [-33.983955, 18.425581], [-33.9839, 18.425554], [-33.983871, 18.425558], [-33.983807, 18.425525], [-33.983772, 18.425523], [-33.983742, 18.425552], [-33.983684, 18.425565], [-33.98366, 18.42553], [-33.983633, 18.425504], [-33.98358, 18.425458], [-33.983561, 18.425434], [-33.983512, 18.425371], [-33.98349, 18.425351], [-33.983437, 18.425316], [-33.983412, 18.425286], [-33.983381, 18.42522], [-33.98336, 18.425197], [-33.983306, 18.425145], [-33.98328, 18.425135], [-33.983257, 18.425096], [-33.983234, 18.425025], [-33.983209, 18.424996], [-33.983152, 18.424955], [-33.983123, 18.424955], [-33.983085, 18.424944], [-33.983037, 18.424894], [-33.983007, 18.424871], [-33.982975, 18.42481], [-33.982956, 18.424784], [-33.982902, 18.424744], [-33.982879, 18.424714], [-33.982858, 18.424638], [-33.982846, 18.424602], [-33.982812, 18.424537], [-33.982801, 18.424496], [-33.982775, 18.424471], [-33.982755, 18.424398], [-33.98275, 18.424355], [-33.982739, 18.424313], [-33.982715, 18.424243], [-33.982706, 18.424196], [-33.982687, 18.424193], [-33.982668, 18.424162], [-33.982608, 18.424156], [-33.982584, 18.424129], [-33.98255, 18.424069], [-33.982526, 18.424042], [-33.98248, 18.42399], [-33.982453, 18.423975], [-33.982415, 18.423916], [-33.98241, 18.42387], [-33.982435, 18.423838], [-33.982412, 18.423906], [-33.98238, 18.423896], [-33.982374, 18.423864], [-33.982337, 18.42381], [-33.982303, 18.423789], [-33.982272, 18.423726], [-33.982254, 18.423699], [-33.982229, 18.423635], [-33.982206, 18.423602], [-33.98216, 18.423557], [-33.982138, 18.42353], [-33.982089, 18.423483], [-33.982052, 18.423435], [-33.982028, 18.423409], [-33.982013, 18.423341], [-33.982027, 18.423306], [-33.981985, 18.423257], [-33.981959, 18.423232], [-33.981963, 18.42316], [-33.98195, 18.423131], [-33.981932, 18.423061], [-33.981917, 18.422999], [-33.981896, 18.422978], [-33.981869, 18.422931], [-33.981837, 18.422925], [-33.981825, 18.422844], [-33.981827, 18.422809], [-33.981811, 18.422739], [-33.981787, 18.422721], [-33.981748, 18.422783], [-33.981713, 18.422782], [-33.981704, 18.422718], [-33.981689, 18.422681], [-33.981708, 18.422644], [-33.981732, 18.422559], [-33.981755, 18.422537], [-33.981766, 18.42247], [-33.981773, 18.422439], [-33.981763, 18.422372], [-33.981773, 18.422337], [-33.981765, 18.422269], [-33.981741, 18.422258], [-33.981725, 18.422226], [-33.981714, 18.422152], [-33.981716, 18.422113], [-33.981742, 18.422043], [-33.98175, 18.422011], [-33.981747, 18.421938], [-33.98172, 18.421922], [-33.981707, 18.421842], [-33.981681, 18.421828], [-33.981613, 18.421822], [-33.98163, 18.421791], [-33.981633, 18.421719], [-33.981639, 18.421687], [-33.981646, 18.42161], [-33.981634, 18.421573], [-33.981618, 18.421539], [-33.981607, 18.421462], [-33.981609, 18.421424], [-33.981571, 18.421376], [-33.981582, 18.421343], [-33.981597, 18.421274], [-33.981581, 18.421241], [-33.98157, 18.421174], [-33.981577, 18.421103], [-33.981604, 18.421083], [-33.981571, 18.421128], [-33.981527, 18.421152], [-33.981497, 18.421158], [-33.981466, 18.421097], [-33.98147, 18.421062], [-33.981449, 18.420998], [-33.981424, 18.420979], [-33.981394, 18.420918], [-33.98135, 18.420878], [-33.981342, 18.420841], [-33.981332, 18.420775], [-33.981335, 18.420742], [-33.981343, 18.420672], [-33.98134, 18.420603], [-33.981337, 18.42057], [-33.981306, 18.420509], [-33.981302, 18.420477], [-33.981329, 18.420395], [-33.981331, 18.42036], [-33.981338, 18.420288], [-33.981333, 18.420256], [-33.981322, 18.420185], [-33.981294, 18.420166], [-33.981247, 18.420114], [-33.981214, 18.420128], [-33.981161, 18.420108], [-33.981133, 18.420096], [-33.981101, 18.420036], [-33.981084, 18.42001], [-33.981085, 18.419937], [-33.981064, 18.419907], [-33.981055, 18.419832], [-33.981066, 18.419801], [-33.98101, 18.419807], [-33.981026, 18.419743], [-33.98102, 18.419704], [-33.981055, 18.419659], [-33.981011, 18.419616], [-33.980986, 18.41963], [-33.980942, 18.419581], [-33.980921, 18.419558], [-33.980896, 18.419498], [-33.980881, 18.419426], [-33.980866, 18.419399], [-33.98085, 18.419332], [-33.980818, 18.41932], [-33.980751, 18.41933], [-33.980754, 18.419289], [-33.98077, 18.419249], [-33.980757, 18.419219], [-33.980774, 18.419231], [-33.980771, 18.419276], [-33.9808, 18.419284], [-33.98082, 18.419263], [-33.980807, 18.419196], [-33.980804, 18.419158], [-33.980764, 18.41911], [-33.980782, 18.419135], [-33.980729, 18.419133], [-33.980703, 18.419166], [-33.980737, 18.419111], [-33.980728, 18.419076], [-33.980695, 18.419024], [-33.980682, 18.418996], [-33.980642, 18.418947], [-33.980634, 18.418906], [-33.980648, 18.418898], [-33.980675, 18.418877], [-33.980683, 18.418891], [-33.980658, 18.41891], [-33.980636, 18.41889], [-33.980595, 18.418832], [-33.980612, 18.418802], [-33.980658, 18.418751], [-33.980639, 18.418725], [-33.980662, 18.418731], [-33.980628, 18.41873], [-33.980599, 18.418751], [-33.980592, 18.41879], [-33.980616, 18.418762], [-33.98063, 18.418749], [-33.980603, 18.418801], [-33.980638, 18.418783], [-33.980652, 18.418745], [-33.980668, 18.41871], [-33.980714, 18.418642], [-33.980736, 18.41861], [-33.980746, 18.418569], [-33.980736, 18.418566], [-33.980729, 18.418599], [-33.980725, 18.418655], [-33.980687, 18.418664], [-33.980653, 18.418665], [-33.980687, 18.418594], [-33.980709, 18.418565], [-33.980681, 18.418502], [-33.980679, 18.418468], [-33.980654, 18.41841], [-33.980614, 18.418383], [-33.98059, 18.418366], [-33.980545, 18.418319], [-33.980539, 18.418285], [-33.980531, 18.418224], [-33.980567, 18.418211], [-33.98056, 18.418213], [-33.980536, 18.418198], [-33.980522, 18.41813], [-33.980546, 18.418099], [-33.980527, 18.418036], [-33.980498, 18.418027], [-33.980456, 18.418052], [-33.980458, 18.418117], [-33.980446, 18.418151], [-33.980416, 18.418205], [-33.980396, 18.418239], [-33.980354, 18.418279], [-33.980305, 18.418319], [-33.980283, 18.418341], [-33.980233, 18.418378], [-33.980209, 18.418393], [-33.980133, 18.418414], [-33.980107, 18.418387], [-33.980109, 18.418346], [-33.980112, 18.418278], [-33.980124, 18.418244], [-33.980128, 18.418174], [-33.980107, 18.418147], [-33.980089, 18.418079], [-33.980059, 18.41809], [-33.98001, 18.418109], [-33.979965, 18.418128], [-33.979961, 18.418095], [-33.979931, 18.418036], [-33.979911, 18.418008], [-33.979891, 18.417949], [-33.979899, 18.417882], [-33.979891, 18.417849], [-33.979911, 18.417779], [-33.979922, 18.417744], [-33.979925, 18.417667], [-33.979917, 18.417632], [-33.979875, 18.417585], [-33.979901, 18.417519], [-33.979905, 18.41748], [-33.979894, 18.417408], [-33.979863, 18.417398], [-33.979842, 18.417337], [-33.979846, 18.417303], [-33.97984, 18.417235], [-33.979834, 18.417202], [-33.979864, 18.417144], [-33.979878, 18.417116], [-33.979929, 18.41707], [-33.979946, 18.41704], [-33.979993, 18.417008], [-33.980038, 18.417027], [-33.980072, 18.417004], [-33.980093, 18.417026], [-33.980153, 18.416967], [-33.98017, 18.416928], [-33.980142, 18.416895], [-33.980103, 18.416885], [-33.980065, 18.416876], [-33.979989, 18.41689], [-33.97996, 18.416897], [-33.979932, 18.416907], [-33.979851, 18.416922], [-33.97982, 18.416888], [-33.979798, 18.416868], [-33.979798, 18.416822], [-33.979842, 18.416737], [-33.979853, 18.416702], [-33.979821, 18.416695], [-33.979798, 18.416649], [-33.979783, 18.416592], [-33.979755, 18.416586], [-33.979729, 18.416519], [-33.979713, 18.41649], [-33.979681, 18.416431], [-33.979704, 18.416402], [-33.979666, 18.416344], [-33.97966, 18.416312], [-33.979606, 18.416261], [-33.979578, 18.41624], [-33.979564, 18.416166], [-33.979544, 18.41614], [-33.979486, 18.416122], [-33.979464, 18.416098], [-33.979454, 18.416029], [-33.979423, 18.415973], [-33.979411, 18.415942], [-33.979374, 18.415907], [-33.978343, 18.413661], [-33.978311, 18.413679], [-33.979855, 18.408226], [-33.979836, 18.408194], [-33.979822, 18.408154], [-33.979793, 18.408083], [-33.979781, 18.408047], [-33.979762, 18.407984], [-33.979762, 18.407944], [-33.979749, 18.407903], [-33.979737, 18.407816], [-33.979727, 18.407775]]) %}
    {{map.html}}
    {{map.js}}
{% endwith %}

<h2> First map generated in view</h2>
{{mymap.html}}

<h2> Second map generated in view</h2>
<h3> Example for different icons in multiple markers with infoboxes</h3>
{{sndmap.html}}

</body>
</html>